{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/examples/QrStream.vue?ecc6","webpack:///./src/App.vue?3f7e","webpack:///./src/App.vue","webpack:///./src/examples/QrCapture.vue","webpack:///../src/components/QrStream.vue","webpack:///../src/misc/util.js","webpack:///../src/misc/scanner.js","webpack:///../src/misc/track-func.js","webpack:///../src/misc/errors.js","webpack:///../src/misc/image-data.js","webpack:///../src/misc/camera.js","webpack:///../src/components/QrStream.vue?8200","webpack:///../src/worker/jsqr.js","webpack:///../src/use/commonApi.ts","webpack:///../src/components/QrStream.vue?8f01","webpack:///../src/components/QrDropzone.vue","webpack:///../src/components/QrDropzone.vue?ee3e","webpack:///../src/components/QrDropzone.vue?c4e1","webpack:///../src/components/QrCapture.vue","webpack:///../src/components/QrCapture.vue?4f80","webpack:///../src/components/QrCapture.vue?3d59","webpack:///./src/examples/QrCapture.vue?6c38","webpack:///./src/examples/QrCapture.vue?da9b","webpack:///./src/examples/QrStream.vue","webpack:///./src/examples/QrStream.vue?20e4","webpack:///./src/examples/QrStream.vue?1475","webpack:///./src/examples/QrDropzone.vue","webpack:///./src/examples/QrDropzone.vue?8715","webpack:///./src/examples/QrDropzone.vue?0786","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?dfb6","webpack:///./src/main.ts","webpack:///./src/examples/QrDropzone.vue?5231","webpack:///../src/components/QrStream.vue?35b8"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","onDecode","ref","autoplay","muted","playsinline","shouldScan","asyncListenEvent","eventTarget","successEvent","errorEvent","_resolve","_reject","promise","Promise","resolve","reject","addEventListener","finally","removeEventListener","sleep","ms","setTimeout","scan","Worker","imageData","worker","postMessage","buffer","event","terminate","keepScanning","camera","options","detectHandler","locateHandler","minDelay","contentBefore","locationBefore","lastScanned","performance","now","workerBusy","shouldContinue","onmessage","content","location","processFrame","timeNow","requestAnimationFrame","captureFrame","thinSquare","color","ctx","topLeftCorner","topRightCorner","bottomLeftCorner","bottomRightCorner","strokeStyle","beginPath","moveTo","x","y","lineTo","closePath","stroke","DropImageFetchError","Error","DropImageDecodeError","StreamApiNotSupportedError","InsecureContextError","canvas","document","createElement","canvasCtx","getContext","imageDataFromCanvas","canvasImageSource","width","height","scalingRatio","Math","min","widthScaled","heightScaled","drawImage","getImageData","imageDataFromImage","imageElement","naturalWidth","naturalHeight","imageDataFromVideo","videoElement","videoWidth","videoHeight","imageDataFromUrl","url","startsWith","includes","host","image","src","imageDataFromFile","file","test","type","reader","FileReader","readAsDataURL","dataURL","target","Camera","videoEl","stream","this","getTracks","forEach","track","stop","getVideoTracks","getCapabilities","narrowDownFacingMode","navigator","mediaDevices","enumerateDevices","devices","filter","kind","frontCamera","rearCamera","deviceId","exact","undefined","facingMode","ideal","torch","isSecureContext","getUserMedia","max","constraints","audio","video","srcObject","mozSrcObject","URL","createObjectURL","webkitURL","capabilities","applyConstraints","advanced","console","warn","CameraType","inlineWorker","func","functionBody","toString","trim","match","Blob","self","importScripts","jsQR","message","useCommonApi","emit","onDetect","resultPromise","props","String","default","Boolean","Function","setup","CommonApi","state","cameraInstance","destroyed","stopScanning","trackingLayer","pauseFrame","shouldStream","off","scanInterval","trackRepaintFunction","init","beforeResetCamera","startScanning","onLocate","clearTrackingLayer","repaintTrackingLayer","displayWidth","offsetWidth","displayHeight","offsetHeight","resolutionWidth","resolutionHeight","largerRatio","uncutWidth","uncutHeight","xScalar","yScalar","xOffset","yOffset","coordinatesAdjusted","floor","clearRect","paintPauseFrame","putImageData","clearPauseFrame","frame","render","__scopeId","onDrop","onDragOver","isDraggingOver","dataTransfer","droppedFiles","files","droppedUrl","getData","processFile","processUrl","scanResult","onChangeInput","accept","capture","multiple","resultPromises","map","components","QrCapture","style","QrStream","QrDropzone","QrCaptureExample","QrStreamExample","QrDropzoneExample","App","mount"],"mappings":"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","file":"js/app.0df2ff6a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vue3-qr-reader/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./QrStream.vue?vue&type=style&index=0&id=4dea8090&scoped=true&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./QrStream.vue?vue&type=style&index=0&id=4dea8090&scoped=true&lang=css\"","export { default } from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=css\"; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=css\"","<template>\n  <qr-stream-example class=\"pb\"></qr-stream-example>\n  <qr-capture-example class=\"pb\"></qr-capture-example>\n  <qr-dropzone-example class=\"pb\"></qr-dropzone-example>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport QrCaptureExample from './examples/QrCapture.vue'\nimport QrStreamExample from './examples/QrStream.vue'\nimport QrDropzoneExample from './examples/QrDropzone.vue'\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    QrCaptureExample,\n    QrStreamExample,\n    QrDropzoneExample\n  },\n});\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n.mb {\n  margin-bottom: 10px;\n}\n.center {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.result {\n  width: 100%;\n  text-align: left;\n}\n</style>\n","<template>\n  <div>\n    <div class=\"mb\">\n      Qr Capture\n    </div>\n    <qr-capture @decode=\"onDecode\" class=\"mb\"></qr-capture>\n    <div class=\"result\">\n      Result: {{data}}\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, toRefs } from 'vue';\nimport { QrCapture } from '../../../src/main'\n\nexport default defineComponent({\n  name: 'QrCaptureExample',\n  components: {\n    QrCapture\n  },\n  setup() {\n    const state = reactive({\n      data: null\n    })\n    function onDecode(data) {\n      state.data = data\n    }\n    return {\n      ...toRefs(state),\n      onDecode\n    }\n  }\n});\n</script>\n","<template>\n  <div class=\"qr-stream-wrapper\">\n    <!--\n    Note, the following DOM elements are not styled with z-index.\n    If z-index is not defined, elements are stacked in the order they appear in the DOM.\n    The first element is at the very bottom and subsequent elements are added on top.\n    -->\n    <video\n      ref=\"video\"\n      v-show=\"shouldScan\"\n      class=\"qr-stream-camera\"\n      autoplay\n      muted\n      playsinline\n    ></video>\n    <canvas\n      ref=\"pauseFrame\"\n      v-show=\"!shouldScan\"\n      class=\"qr-stream-camera\"\n    ></canvas>\n    <canvas ref=\"trackingLayer\" class=\"qr-stream-overlay\"></canvas>\n    <div class=\"qr-stream-overlay\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { keepScanning } from \"../misc/scanner.js\";\nimport { thinSquare } from \"../misc/track-func.js\";\nimport Camera from \"../misc/camera.js\";\nimport Worker from \"../worker/jsqr.js\";\nimport {\n  computed,\n  defineComponent,\n  onMounted,\n  onUnmounted,\n  reactive,\n  toRefs,\n  watch,\n  PropType,\n} from \"vue\";\nimport useCommonApi from \"../use/commonApi\";\n\nenum CameraType {\n  auto = \"auto\",\n  rear = \"rear\",\n  off = \"off\",\n  front = \"front\",\n}\n\nexport default defineComponent({\n  name: \"QrStream\",\n  props: {\n    camera: {\n      type: String as PropType<CameraType>,\n      default: \"auto\",\n    },\n    torch: {\n      type: Boolean,\n      default: false,\n    },\n    track: {\n      type: [Function, Boolean],\n      default: true,\n    },\n    worker: {\n      type: Function,\n      default: Worker,\n    },\n  },\n  setup(props, { emit }) {\n    const CommonApi = useCommonApi(emit);\n    const state = reactive({\n      cameraInstance: null,\n      destroyed: false,\n      stopScanning: () => {\n        //\n      },\n      video: null,\n      trackingLayer: null,\n      pauseFrame: null,\n\n      shouldStream: computed(() => {\n        return state.destroyed === false && props.camera !== CameraType.off;\n      }),\n      shouldScan: computed(() => {\n        return state.shouldStream === true && state.cameraInstance !== null;\n      }),\n      /**\n       * Minimum delay in milliseconds between frames to be scanned. Don't scan\n       * so often when visual tracking is disabled to improve performance.\n       */\n      scanInterval: computed(() => {\n        if (props.track === false) {\n          return 500;\n        } else {\n          return 40; // ~ 25fps\n        }\n      }),\n      trackRepaintFunction: computed(() => {\n        if (props.track === true) {\n          return thinSquare({ color: \"#ff0000\" });\n        } else if (props.track === false) {\n          return undefined;\n        } else {\n          return props.track;\n        }\n      }),\n    });\n    watch(\n      () => state.shouldStream,\n      (shouldStream) => {\n        if (!shouldStream) {\n          const frame = state.cameraInstance.captureFrame();\n          paintPauseFrame(frame);\n        }\n      }\n    );\n    watch(\n      () => state.shouldScan,\n      (shouldScan) => {\n        if (shouldScan) {\n          clearPauseFrame();\n          clearTrackingLayer();\n          startScanning();\n        } else {\n          state.stopScanning();\n        }\n      }\n    );\n    watch(\n      () => props.torch,\n      () => {\n        init();\n      }\n    );\n    watch(\n      () => props.camera,\n      () => {\n        init();\n      }\n    );\n    function init() {\n      const promise = (async () => {\n        beforeResetCamera();\n        if (props.camera === \"off\") {\n          state.cameraInstance = null;\n\n          return {\n            capabilities: {},\n          };\n        } else {\n          state.cameraInstance = await Camera(state.video, {\n            camera: props.camera,\n            torch: props.torch,\n          });\n\n          const capabilities = state.cameraInstance.getCapabilities();\n\n          // if the component is destroyed before `cameraInstance` resolves a\n          // `beforeDestroy` hook has no chance to clear the remaining camera\n          // stream.\n          if (state.destroyed) {\n            state.cameraInstance.stop();\n          }\n\n          return {\n            capabilities,\n          };\n        }\n      })();\n      emit(\"init\", promise);\n    }\n    onMounted(() => {\n      init();\n    });\n    onUnmounted(() => {\n      beforeResetCamera();\n      state.stopScanning();\n      state.destroyed = true;\n    });\n    function startScanning() {\n      const detectHandler = (result) => {\n        CommonApi.onDetect(Promise.resolve(result));\n      };\n\n      state.stopScanning = keepScanning(props.worker, state.cameraInstance, {\n        detectHandler,\n        locateHandler: onLocate,\n        minDelay: state.scanInterval,\n      });\n    }\n    function beforeResetCamera() {\n      if (state.cameraInstance !== null) {\n        state.cameraInstance.stop();\n        state.cameraInstance = null;\n      }\n    }\n    function onLocate(location) {\n      if (state.trackRepaintFunction === undefined || location === null) {\n        clearTrackingLayer();\n      } else {\n        repaintTrackingLayer(location);\n      }\n    }\n    function repaintTrackingLayer(location) {\n      const video = state.video;\n      const canvas = state.trackingLayer;\n      const ctx = canvas.getContext(\"2d\");\n\n      // The visually occupied area of the video element.\n      // Because the component is responsive and fills the available space,\n      // this can be more or less than the actual resolution of the camera.\n      const displayWidth = video.offsetWidth;\n      const displayHeight = video.offsetHeight;\n\n      // The actual resolution of the camera.\n      // These values are fixed no matter the screen size.\n      const resolutionWidth = video.videoWidth;\n      const resolutionHeight = video.videoHeight;\n\n      // Dimensions of the video element as if there would be no\n      //   object-fit: cover;\n      // Thus, the ratio is the same as the cameras resolution but it's\n      // scaled down to the size of the visually occupied area.\n      const largerRatio = Math.max(\n        displayWidth / resolutionWidth,\n        displayHeight / resolutionHeight\n      );\n      const uncutWidth = resolutionWidth * largerRatio;\n      const uncutHeight = resolutionHeight * largerRatio;\n\n      const xScalar = uncutWidth / resolutionWidth;\n      const yScalar = uncutHeight / resolutionHeight;\n      const xOffset = (displayWidth - uncutWidth) / 2;\n      const yOffset = (displayHeight - uncutHeight) / 2;\n\n      const coordinatesAdjusted = {};\n      for (const key in location) {\n        coordinatesAdjusted[key] = {\n          x: Math.floor(location[key].x * xScalar + xOffset),\n          y: Math.floor(location[key].y * yScalar + yOffset),\n        };\n      }\n\n      window.requestAnimationFrame(() => {\n        canvas.width = displayWidth;\n        canvas.height = displayHeight;\n\n        state.trackRepaintFunction(coordinatesAdjusted, ctx);\n      });\n    }\n    function clearTrackingLayer() {\n      const canvas = state.trackingLayer;\n      const ctx = canvas.getContext(\"2d\");\n\n      window.requestAnimationFrame(() => {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n      });\n    }\n    function paintPauseFrame(imageData) {\n      const canvas = state.pauseFrame;\n      const ctx = canvas.getContext(\"2d\");\n\n      window.requestAnimationFrame(() => {\n        canvas.width = imageData.width;\n        canvas.height = imageData.height;\n\n        ctx.putImageData(imageData, 0, 0);\n      });\n    }\n    function clearPauseFrame() {\n      const canvas = state.pauseFrame;\n      const ctx = canvas.getContext(\"2d\");\n\n      window.requestAnimationFrame(() => {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n      });\n    }\n    return {\n      ...toRefs(state),\n      init,\n    };\n  },\n});\n</script>\n\n<style lang=\"css\" scoped>\n.qr-stream-wrapper {\n  width: 100%;\n  height: 100%;\n\n  position: relative;\n  z-index: 0;\n}\n\n.qr-stream-overlay {\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.qr-stream-camera {\n  width: 100%;\n  height: 100%;\n\n  display: block;\n  object-fit: cover;\n}\n</style>\n","export const indempotent = action => {\n  let called = false;\n  let result = undefined;\n  return (...args) => {\n    if (called) {\n      return result;\n    } else {\n      result = action(...args);\n      called = true;\n      return result;\n    }\n  };\n};\n\nexport function asyncListenEvent(eventTarget, successEvent, errorEvent) {\n  let _resolve, _reject\n  const promise = new Promise((resolve, reject) => {\n    _resolve = resolve\n    _reject = reject\n  })\n  eventTarget.addEventListener(successEvent, _resolve)\n  eventTarget.addEventListener(errorEvent, _reject)\n  promise.finally(() => {\n    eventTarget.removeEventListener(successEvent, _resolve)\n    eventTarget.removeEventListener(errorEvent, _reject)\n  })\n  return promise\n}\n\nexport function sleep(ms) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, ms);\n  });\n}","import { asyncListenEvent } from \"./util\";\n\nexport async function scan(Worker, imageData) {\n  const worker = new Worker();\n\n  worker.postMessage(imageData, [imageData.data.buffer]);\n\n  const event = await asyncListenEvent(worker, \"message\");\n\n  worker.terminate();\n\n  return event.data;\n}\n\n/**\n * Continuously extracts frames from camera stream and tries to read\n * potentially pictured QR codes.\n */\nexport function keepScanning(Worker, camera, options) {\n  const { detectHandler, locateHandler, minDelay } = options;\n\n  let contentBefore = null;\n  let locationBefore = null;\n  let lastScanned = performance.now();\n\n  const worker = new Worker();\n\n  // If worker can't process frames fast enough, memory will quickly full up.\n  // Make sure to process only one frame at a time.\n  let workerBusy = false;\n  let shouldContinue = true;\n\n  worker.onmessage = event => {\n    workerBusy = false;\n\n    const { content, location } = event.data;\n\n    if (content !== null && content !== contentBefore) {\n      detectHandler(event.data);\n    }\n\n    if (location !== locationBefore) {\n      locateHandler(location);\n    }\n\n    contentBefore = content || contentBefore;\n    locationBefore = location;\n  };\n\n  const processFrame = timeNow => {\n    if (shouldContinue) {\n      window.requestAnimationFrame(processFrame);\n\n      if (timeNow - lastScanned >= minDelay) {\n        lastScanned = timeNow;\n\n        if (workerBusy === false) {\n          workerBusy = true;\n\n          const imageData = camera.captureFrame();\n\n          worker.postMessage(imageData, [imageData.data.buffer]);\n        }\n      }\n    } else {\n      worker.terminate();\n    }\n  };\n\n  processFrame();\n\n  return () => {\n    shouldContinue = false;\n  };\n}\n","export function thinSquare({ color }) {\n  return function(location, ctx) {\n    const {\n      topLeftCorner,\n      topRightCorner,\n      bottomLeftCorner,\n      bottomRightCorner\n    } = location;\n\n    ctx.strokeStyle = color;\n\n    ctx.beginPath();\n    ctx.moveTo(topLeftCorner.x, topLeftCorner.y);\n    ctx.lineTo(bottomLeftCorner.x, bottomLeftCorner.y);\n    ctx.lineTo(bottomRightCorner.x, bottomRightCorner.y);\n    ctx.lineTo(topRightCorner.x, topRightCorner.y);\n    ctx.lineTo(topLeftCorner.x, topLeftCorner.y);\n    ctx.closePath();\n\n    ctx.stroke();\n  };\n}\n","export class DropImageFetchError extends Error {\n  constructor() {\n    super(\"can't process cross-origin image\");\n\n    this.name = \"DropImageFetchError\";\n  }\n}\n\nexport class DropImageDecodeError extends Error {\n  constructor() {\n    super(\"drag-and-dropped file is not of type image and can't be decoded\");\n\n    this.name = \"DropImageDecodeError\";\n  }\n}\n\nexport class StreamApiNotSupportedError extends Error {\n  constructor() {\n    super(\"this browser has no Stream API support\");\n\n    this.name = \"StreamApiNotSupportedError\";\n  }\n}\n\nexport class InsecureContextError extends Error {\n  constructor() {\n    super(\n      \"camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP.\"\n    );\n\n    this.name = \"InsecureContextError\";\n  }\n}\n","import { DropImageFetchError, DropImageDecodeError } from \"./errors.js\";\nimport { asyncListenEvent } from \"./util.js\";\n\nconst canvas = document.createElement(\"canvas\");\nconst canvasCtx = canvas.getContext(\"2d\");\n\ncanvas.width = 1920;\ncanvas.height = 1080;\n\nfunction imageDataFromCanvas(canvasImageSource, width, height) {\n  const scalingRatio = Math.min(\n    1,\n    canvas.width / width,\n    canvas.height / height\n  );\n  const widthScaled = scalingRatio * width;\n  const heightScaled = scalingRatio * height;\n\n  canvasCtx.drawImage(canvasImageSource, 0, 0, widthScaled, heightScaled);\n\n  return canvasCtx.getImageData(0, 0, widthScaled, heightScaled);\n}\n\nexport function imageDataFromImage(imageElement) {\n  const width = imageElement.naturalWidth;\n  const height = imageElement.naturalHeight;\n\n  return imageDataFromCanvas(imageElement, width, height);\n}\n\nexport function imageDataFromVideo(videoElement) {\n  const width = videoElement.videoWidth;\n  const height = videoElement.videoHeight;\n\n  return imageDataFromCanvas(videoElement, width, height);\n}\n\nexport async function imageDataFromUrl(url) {\n  if (url.startsWith(\"http\") && url.includes(location.host) === false) {\n    throw new DropImageFetchError();\n  }\n\n  const image = document.createElement(\"img\");\n  image.src = url;\n\n  await asyncListenEvent(image, \"load\");\n\n  return imageDataFromImage(image);\n}\n\nexport async function imageDataFromFile(file) {\n  if (/image.*/.test(file.type)) {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    const result = await asyncListenEvent(reader, \"load\");\n    const dataURL = result.target.result;\n    return imageDataFromUrl(dataURL);\n  } else {\n    throw new DropImageDecodeError();\n  }\n}\n","import { StreamApiNotSupportedError, InsecureContextError } from \"./errors.js\";\nimport { imageDataFromVideo } from \"./image-data.js\";\nimport { asyncListenEvent, sleep } from \"./util.js\";\n\nclass Camera {\n  constructor(videoEl, stream) {\n    this.videoEl = videoEl;\n    this.stream = stream;\n  }\n\n  stop() {\n    this.stream.getTracks().forEach(track => track.stop());\n  }\n\n  captureFrame() {\n    return imageDataFromVideo(this.videoEl);\n  }\n\n  getCapabilities() {\n    const [track] = this.stream.getVideoTracks();\n    // Firefox does not yet support getCapabilities as of August 2020\n    return track?.getCapabilities?.() ?? {};\n  }\n}\n\nconst narrowDownFacingMode = async camera => {\n  // Modern phones often have multipe front/rear cameras.\n  // Sometimes special purpose cameras like the wide-angle camera are picked\n  // by default. Those are not optimal for scanning QR codes but standard\n  // media constraints don't allow us to specify which camera we want exactly.\n  // However, explicitly picking the first entry in the list of all videoinput\n  // devices for as the default front camera and the last entry as the default\n  // rear camera seems to be a workaround.\n  const devices = (await navigator.mediaDevices.enumerateDevices()).filter(\n    ({ kind }) => kind === \"videoinput\"\n  );\n\n  if (devices.length > 2) {\n    const frontCamera = devices[0];\n    const rearCamera = devices[devices.length - 1];\n\n    switch (camera) {\n      case \"auto\":\n        return { deviceId: { exact: rearCamera.deviceId } };\n      case \"rear\":\n        return { deviceId: { exact: rearCamera.deviceId } };\n      case \"front\":\n        return { deviceId: { exact: frontCamera.deviceId } };\n      default:\n        return undefined;\n    }\n  } else {\n    switch (camera) {\n      case \"auto\":\n        return { facingMode: { ideal: \"environment\" } };\n      case \"rear\":\n        return { facingMode: { exact: \"environment\" } };\n      case \"front\":\n        return { facingMode: { exact: \"user\" } };\n      default:\n        return undefined;\n    }\n  }\n};\n\nexport default async function(videoEl, { camera, torch }) {\n  // At least in Chrome `navigator.mediaDevices` is undefined when the page is\n  // loaded using HTTP rather than HTTPS. Thus `STREAM_API_NOT_SUPPORTED` is\n  // initialized with `false` although the API might actually be supported.\n  // So although `getUserMedia` already should have a built-in mechanism to\n  // detect insecure context (by throwing `NotAllowedError`), we have to do a\n  // manual check before even calling `getUserMedia`.\n  if (window.isSecureContext !== true) {\n    throw new InsecureContextError();\n  }\n\n  if (navigator?.mediaDevices?.getUserMedia === undefined) {\n    throw new StreamApiNotSupportedError();\n  }\n\n  const constraints = {\n    audio: false,\n    video: {\n      width: { min: 360, ideal: 640, max: 1920 },\n      height: { min: 240, ideal: 480, max: 1080 },\n      ...(await narrowDownFacingMode(camera))\n    }\n  };\n\n  const stream = await navigator.mediaDevices.getUserMedia(constraints);\n\n  if (videoEl.srcObject !== undefined) {\n    videoEl.srcObject = stream;\n  } else if (videoEl.mozSrcObject !== undefined) {\n    videoEl.mozSrcObject = stream;\n  } else if (window.URL.createObjectURL) {\n    videoEl.src = window.URL.createObjectURL(stream);\n  } else if (window.webkitURL) {\n    videoEl.src = window.webkitURL.createObjectURL(stream);\n  } else {\n    videoEl.src = stream;\n  }\n\n  await asyncListenEvent(videoEl, \"loadeddata\");\n\n  // According to: https://oberhofer.co/mediastreamtrack-and-its-capabilities/#queryingcapabilities\n  // On some devices, getCapabilities only returns a non-empty object after\n  // some delay. There is no appropriate event so we have to add a constant timeout\n  await sleep(500);\n\n  if (torch) {\n    const [track] = stream.getVideoTracks();\n    const capabilities = track.getCapabilities();\n\n    if (capabilities.torch) {\n      track.applyConstraints({ advanced: [{ torch: true }] });\n    } else {\n      console.warn(\"device does not support torch capability\");\n    }\n  }\n\n  return new Camera(videoEl, stream);\n}\n","\nimport { keepScanning } from \"../misc/scanner.js\";\nimport { thinSquare } from \"../misc/track-func.js\";\nimport Camera from \"../misc/camera.js\";\nimport Worker from \"../worker/jsqr.js\";\nimport {\n  computed,\n  defineComponent,\n  onMounted,\n  onUnmounted,\n  reactive,\n  toRefs,\n  watch,\n  PropType,\n} from \"vue\";\nimport useCommonApi from \"../use/commonApi\";\n\nenum CameraType {\n  auto = \"auto\",\n  rear = \"rear\",\n  off = \"off\",\n  front = \"front\",\n}\n\nexport default defineComponent({\n  name: \"QrStream\",\n  props: {\n    camera: {\n      type: String as PropType<CameraType>,\n      default: \"auto\",\n    },\n    torch: {\n      type: Boolean,\n      default: false,\n    },\n    track: {\n      type: [Function, Boolean],\n      default: true,\n    },\n    worker: {\n      type: Function,\n      default: Worker,\n    },\n  },\n  setup(props, { emit }) {\n    const CommonApi = useCommonApi(emit);\n    const state = reactive({\n      cameraInstance: null,\n      destroyed: false,\n      stopScanning: () => {\n        //\n      },\n      video: null,\n      trackingLayer: null,\n      pauseFrame: null,\n\n      shouldStream: computed(() => {\n        return state.destroyed === false && props.camera !== CameraType.off;\n      }),\n      shouldScan: computed(() => {\n        return state.shouldStream === true && state.cameraInstance !== null;\n      }),\n      /**\n       * Minimum delay in milliseconds between frames to be scanned. Don't scan\n       * so often when visual tracking is disabled to improve performance.\n       */\n      scanInterval: computed(() => {\n        if (props.track === false) {\n          return 500;\n        } else {\n          return 40; // ~ 25fps\n        }\n      }),\n      trackRepaintFunction: computed(() => {\n        if (props.track === true) {\n          return thinSquare({ color: \"#ff0000\" });\n        } else if (props.track === false) {\n          return undefined;\n        } else {\n          return props.track;\n        }\n      }),\n    });\n    watch(\n      () => state.shouldStream,\n      (shouldStream) => {\n        if (!shouldStream) {\n          const frame = state.cameraInstance.captureFrame();\n          paintPauseFrame(frame);\n        }\n      }\n    );\n    watch(\n      () => state.shouldScan,\n      (shouldScan) => {\n        if (shouldScan) {\n          clearPauseFrame();\n          clearTrackingLayer();\n          startScanning();\n        } else {\n          state.stopScanning();\n        }\n      }\n    );\n    watch(\n      () => props.torch,\n      () => {\n        init();\n      }\n    );\n    watch(\n      () => props.camera,\n      () => {\n        init();\n      }\n    );\n    function init() {\n      const promise = (async () => {\n        beforeResetCamera();\n        if (props.camera === \"off\") {\n          state.cameraInstance = null;\n\n          return {\n            capabilities: {},\n          };\n        } else {\n          state.cameraInstance = await Camera(state.video, {\n            camera: props.camera,\n            torch: props.torch,\n          });\n\n          const capabilities = state.cameraInstance.getCapabilities();\n\n          // if the component is destroyed before `cameraInstance` resolves a\n          // `beforeDestroy` hook has no chance to clear the remaining camera\n          // stream.\n          if (state.destroyed) {\n            state.cameraInstance.stop();\n          }\n\n          return {\n            capabilities,\n          };\n        }\n      })();\n      emit(\"init\", promise);\n    }\n    onMounted(() => {\n      init();\n    });\n    onUnmounted(() => {\n      beforeResetCamera();\n      state.stopScanning();\n      state.destroyed = true;\n    });\n    function startScanning() {\n      const detectHandler = (result) => {\n        CommonApi.onDetect(Promise.resolve(result));\n      };\n\n      state.stopScanning = keepScanning(props.worker, state.cameraInstance, {\n        detectHandler,\n        locateHandler: onLocate,\n        minDelay: state.scanInterval,\n      });\n    }\n    function beforeResetCamera() {\n      if (state.cameraInstance !== null) {\n        state.cameraInstance.stop();\n        state.cameraInstance = null;\n      }\n    }\n    function onLocate(location) {\n      if (state.trackRepaintFunction === undefined || location === null) {\n        clearTrackingLayer();\n      } else {\n        repaintTrackingLayer(location);\n      }\n    }\n    function repaintTrackingLayer(location) {\n      const video = state.video;\n      const canvas = state.trackingLayer;\n      const ctx = canvas.getContext(\"2d\");\n\n      // The visually occupied area of the video element.\n      // Because the component is responsive and fills the available space,\n      // this can be more or less than the actual resolution of the camera.\n      const displayWidth = video.offsetWidth;\n      const displayHeight = video.offsetHeight;\n\n      // The actual resolution of the camera.\n      // These values are fixed no matter the screen size.\n      const resolutionWidth = video.videoWidth;\n      const resolutionHeight = video.videoHeight;\n\n      // Dimensions of the video element as if there would be no\n      //   object-fit: cover;\n      // Thus, the ratio is the same as the cameras resolution but it's\n      // scaled down to the size of the visually occupied area.\n      const largerRatio = Math.max(\n        displayWidth / resolutionWidth,\n        displayHeight / resolutionHeight\n      );\n      const uncutWidth = resolutionWidth * largerRatio;\n      const uncutHeight = resolutionHeight * largerRatio;\n\n      const xScalar = uncutWidth / resolutionWidth;\n      const yScalar = uncutHeight / resolutionHeight;\n      const xOffset = (displayWidth - uncutWidth) / 2;\n      const yOffset = (displayHeight - uncutHeight) / 2;\n\n      const coordinatesAdjusted = {};\n      for (const key in location) {\n        coordinatesAdjusted[key] = {\n          x: Math.floor(location[key].x * xScalar + xOffset),\n          y: Math.floor(location[key].y * yScalar + yOffset),\n        };\n      }\n\n      window.requestAnimationFrame(() => {\n        canvas.width = displayWidth;\n        canvas.height = displayHeight;\n\n        state.trackRepaintFunction(coordinatesAdjusted, ctx);\n      });\n    }\n    function clearTrackingLayer() {\n      const canvas = state.trackingLayer;\n      const ctx = canvas.getContext(\"2d\");\n\n      window.requestAnimationFrame(() => {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n      });\n    }\n    function paintPauseFrame(imageData) {\n      const canvas = state.pauseFrame;\n      const ctx = canvas.getContext(\"2d\");\n\n      window.requestAnimationFrame(() => {\n        canvas.width = imageData.width;\n        canvas.height = imageData.height;\n\n        ctx.putImageData(imageData, 0, 0);\n      });\n    }\n    function clearPauseFrame() {\n      const canvas = state.pauseFrame;\n      const ctx = canvas.getContext(\"2d\");\n\n      window.requestAnimationFrame(() => {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n      });\n    }\n    return {\n      ...toRefs(state),\n      init,\n    };\n  },\n});\n","const inlineWorker = func => {\n  const functionBody = func\n    .toString()\n    .trim()\n    .match(/^function\\s*\\w*\\s*\\([\\w\\s,]*\\)\\s*{([\\w\\W]*?)}$/)[1];\n\n  return new Worker(\n    URL.createObjectURL(new Blob([functionBody], { type: \"text/javascript\" }))\n  );\n};\n\nexport default () => {\n  /* eslint-disable no-undef */\n  return inlineWorker(function() {\n    self.importScripts(\n      \"https://cdn.jsdelivr.net/npm/jsqr@1.3.1/dist/jsQR.min.js\"\n    );\n\n    self.addEventListener(\"message\", function(event) {\n      const imageData = event.data;\n      const result = jsQR(imageData.data, imageData.width, imageData.height);\n\n      let content = null;\n      let location = null;\n\n      if (result !== null) {\n        content = result.data;\n        location = result.location;\n      }\n\n      const message = { content, location, imageData };\n      self.postMessage(message, [imageData.data.buffer]);\n    });\n  });\n  /* eslint-enable */\n};\n","export default function useCommonApi(emit) {\n  async function onDetect(resultPromise) {\n    emit(\"detect\", resultPromise);\n    try {\n      const { content } = await resultPromise;\n      if (content !== null) {\n        emit(\"decode\", content);\n      }\n    } catch (error) {\n      // fail silently\n    }\n  }\n  return {\n    onDetect\n  }\n}","import { render } from \"./QrStream.vue?vue&type=template&id=f73a6250&scoped=true&bindings={}\"\nimport script from \"./QrStream.vue?vue&type=script&lang=ts\"\nexport * from \"./QrStream.vue?vue&type=script&lang=ts\"\n\nimport \"./QrStream.vue?vue&type=style&index=0&id=f73a6250&lang=css&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-f73a6250\"\n\nexport default script","<template>\n  <div\n    @drop.prevent.stop=\"onDrop\"\n    @dragenter.prevent.stop=\"onDragOver(true)\"\n    @dragleave.prevent.stop=\"onDragOver(false)\"\n    @dragover.prevent.stop\n  >\n    <slot></slot>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { scan } from \"../misc/scanner.js\";\nimport { imageDataFromFile, imageDataFromUrl } from \"../misc/image-data.js\";\nimport Worker from \"../worker/jsqr.js\";\nimport useCommonApi from '../use/commonApi';\n\nexport default {\n  name: \"QrDropzone\",\n  props: {\n    worker: {\n      type: Function,\n      default: Worker\n    }\n  },\n  setup(props, {emit}) {\n    const CommonApi = useCommonApi(emit);\n    function onDragOver(isDraggingOver) {\n      emit(\"dragover\", isDraggingOver);\n    }\n    function onDrop({ dataTransfer }) {\n      onDragOver(false);\n      const droppedFiles = [...dataTransfer.files];\n      const droppedUrl = dataTransfer.getData(\"text/uri-list\");\n      droppedFiles.forEach(file => {\n        CommonApi.onDetect(processFile(file));\n      });\n      if (droppedUrl !== \"\") {\n        CommonApi.onDetect(processUrl(droppedUrl));\n      }\n    }\n    async function processFile(file) {\n      const imageData = await imageDataFromFile(file);\n      const scanResult = await scan(props.worker, imageData);\n      return scanResult;\n    }\n    async function processUrl(url) {\n      const imageData = await imageDataFromUrl(url);\n      const scanResult = await scan(props.worker, imageData);\n\n      return scanResult;\n    }\n    return {\n      onDrop,\n      onDragOver\n    }\n  }\n};\n</script>\n","\nimport { scan } from \"../misc/scanner.js\";\nimport { imageDataFromFile, imageDataFromUrl } from \"../misc/image-data.js\";\nimport Worker from \"../worker/jsqr.js\";\nimport useCommonApi from '../use/commonApi';\n\nexport default {\n  name: \"QrDropzone\",\n  props: {\n    worker: {\n      type: Function,\n      default: Worker\n    }\n  },\n  setup(props, {emit}) {\n    const CommonApi = useCommonApi(emit);\n    function onDragOver(isDraggingOver) {\n      emit(\"dragover\", isDraggingOver);\n    }\n    function onDrop({ dataTransfer }) {\n      onDragOver(false);\n      const droppedFiles = [...dataTransfer.files];\n      const droppedUrl = dataTransfer.getData(\"text/uri-list\");\n      droppedFiles.forEach(file => {\n        CommonApi.onDetect(processFile(file));\n      });\n      if (droppedUrl !== \"\") {\n        CommonApi.onDetect(processUrl(droppedUrl));\n      }\n    }\n    async function processFile(file) {\n      const imageData = await imageDataFromFile(file);\n      const scanResult = await scan(props.worker, imageData);\n      return scanResult;\n    }\n    async function processUrl(url) {\n      const imageData = await imageDataFromUrl(url);\n      const scanResult = await scan(props.worker, imageData);\n\n      return scanResult;\n    }\n    return {\n      onDrop,\n      onDragOver\n    }\n  }\n};\n","import { render } from \"./QrDropzone.vue?vue&type=template&id=6daecc35&bindings={\\\"worker\\\":\\\"props\\\",\\\"onDrop\\\":\\\"setup\\\",\\\"onDragOver\\\":\\\"setup\\\"}\"\nimport script from \"./QrDropzone.vue?vue&type=script&lang=ts\"\nexport * from \"./QrDropzone.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <input\n    @change=\"onChangeInput\"\n    type=\"file\"\n    name=\"image\"\n    accept=\"image/*\"\n    capture=\"environment\"\n    multiple\n  />\n</template>\n\n<script lang=\"ts\">\nimport { scan } from \"../misc/scanner.js\";\nimport { imageDataFromFile } from \"../misc/image-data.js\";\nimport Worker from \"../worker/jsqr.js\";\nimport useCommonApi from '../use/commonApi';\n\nexport default {\n  name: \"QrCapture\",\n  props: {\n    worker: {\n      type: Function,\n      default: Worker\n    }\n  },\n  setup(props, {emit}) {\n    const CommonApi = useCommonApi(emit)\n    function onChangeInput(event) {\n      const files = [...event.target.files];\n      const resultPromises = files.map(processFile);\n      resultPromises.forEach(CommonApi.onDetect);\n    }\n    async function processFile(file) {\n      const imageData = await imageDataFromFile(file);\n      const scanResult = await scan(props.worker, imageData);\n      return scanResult;\n    }\n    return {\n      onChangeInput\n    }\n  },\n};\n</script>\n","\nimport { scan } from \"../misc/scanner.js\";\nimport { imageDataFromFile } from \"../misc/image-data.js\";\nimport Worker from \"../worker/jsqr.js\";\nimport useCommonApi from '../use/commonApi';\n\nexport default {\n  name: \"QrCapture\",\n  props: {\n    worker: {\n      type: Function,\n      default: Worker\n    }\n  },\n  setup(props, {emit}) {\n    const CommonApi = useCommonApi(emit)\n    function onChangeInput(event) {\n      const files = [...event.target.files];\n      const resultPromises = files.map(processFile);\n      resultPromises.forEach(CommonApi.onDetect);\n    }\n    async function processFile(file) {\n      const imageData = await imageDataFromFile(file);\n      const scanResult = await scan(props.worker, imageData);\n      return scanResult;\n    }\n    return {\n      onChangeInput\n    }\n  },\n};\n","import { render } from \"./QrCapture.vue?vue&type=template&id=1a289218&bindings={\\\"worker\\\":\\\"props\\\",\\\"onChangeInput\\\":\\\"setup\\\"}\"\nimport script from \"./QrCapture.vue?vue&type=script&lang=ts\"\nexport * from \"./QrCapture.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, reactive, toRefs } from 'vue';\nimport { QrCapture } from '../../../src/main'\n\nexport default defineComponent({\n  name: 'QrCaptureExample',\n  components: {\n    QrCapture\n  },\n  setup() {\n    const state = reactive({\n      data: null\n    })\n    function onDecode(data) {\n      state.data = data\n    }\n    return {\n      ...toRefs(state),\n      onDecode\n    }\n  }\n});\n","import { render } from \"./QrCapture.vue?vue&type=template&id=0e14ecb2&bindings={}\"\nimport script from \"./QrCapture.vue?vue&type=script&lang=ts\"\nexport * from \"./QrCapture.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <div class=\"mb\">\n      Qr Stream\n    </div>\n    <div class=\"center\">\n      <qr-stream @decode=\"onDecode\" class=\"mb stream\">\n        <div style=\"color: red;\" class=\"frame\"></div>\n      </qr-stream>\n    </div>\n    <div class=\"result\">\n      Result: {{data}}\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, toRefs } from 'vue';\nimport { QrStream } from '../../../src/main'\n\nexport default defineComponent({\n  name: 'QrStreamExample',\n  components: {\n    QrStream\n  },\n  setup() {\n    const state = reactive({\n      data: null\n    })\n    function onDecode(data) {\n      state.data = data\n    }\n    return {\n      ...toRefs(state),\n      onDecode\n    }\n  }\n});\n</script>\n\n<style scoped>\n.stream {\n  height: 300px;\n  width: 300px;\n}\n.frame {\n  border-style: solid;\n  border-width: 2px;\n  border-color: red;\n  height: 200px;\n  width: 200px;\n  position: absolute;\n  top: 0px;\n  bottom: 0px;\n  right: 0px;\n  left: 0px;\n  margin: auto;\n}\n</style>","\nimport { defineComponent, reactive, toRefs } from 'vue';\nimport { QrStream } from '../../../src/main'\n\nexport default defineComponent({\n  name: 'QrStreamExample',\n  components: {\n    QrStream\n  },\n  setup() {\n    const state = reactive({\n      data: null\n    })\n    function onDecode(data) {\n      state.data = data\n    }\n    return {\n      ...toRefs(state),\n      onDecode\n    }\n  }\n});\n","import { render } from \"./QrStream.vue?vue&type=template&id=4dea8090&scoped=true&bindings={}\"\nimport script from \"./QrStream.vue?vue&type=script&lang=ts\"\nexport * from \"./QrStream.vue?vue&type=script&lang=ts\"\n\nimport \"./QrStream.vue?vue&type=style&index=0&id=4dea8090&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-4dea8090\"\n\nexport default script","<template>\n  <div>\n    <div class=\"mb\">\n      Qr Dropzone\n    </div>\n    <qr-dropzone class=\"dropzone mb\" @decode=\"onDecode\">\n      Drop image here.\n    </qr-dropzone>\n    <div class=\"result\">\n      Result: {{data}}\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, toRefs } from 'vue';\nimport { QrDropzone } from '../../../src/main'\n\nexport default defineComponent({\n  name: 'QrDropzoneExample',\n  components: {\n    QrDropzone\n  },\n  setup() {\n    const state = reactive({\n      data: null\n    })\n    function onDecode(data) {\n      state.data = data\n    }\n    return {\n      ...toRefs(state),\n      onDecode\n    }\n  }\n});\n</script>\n\n<style scoped>\n.dropzone {\n  height: 100px; \n  background: lightgray;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: gray;\n}\n</style>","\nimport { defineComponent, reactive, toRefs } from 'vue';\nimport { QrDropzone } from '../../../src/main'\n\nexport default defineComponent({\n  name: 'QrDropzoneExample',\n  components: {\n    QrDropzone\n  },\n  setup() {\n    const state = reactive({\n      data: null\n    })\n    function onDecode(data) {\n      state.data = data\n    }\n    return {\n      ...toRefs(state),\n      onDecode\n    }\n  }\n});\n","import { render } from \"./QrDropzone.vue?vue&type=template&id=7726d082&scoped=true&bindings={}\"\nimport script from \"./QrDropzone.vue?vue&type=script&lang=ts\"\nexport * from \"./QrDropzone.vue?vue&type=script&lang=ts\"\n\nimport \"./QrDropzone.vue?vue&type=style&index=0&id=7726d082&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-7726d082\"\n\nexport default script","\nimport { defineComponent } from 'vue';\nimport QrCaptureExample from './examples/QrCapture.vue'\nimport QrStreamExample from './examples/QrStream.vue'\nimport QrDropzoneExample from './examples/QrDropzone.vue'\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    QrCaptureExample,\n    QrStreamExample,\n    QrDropzoneExample\n  },\n});\n","import { render } from \"./App.vue?vue&type=template&id=75313f16&bindings={}\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","import { createApp } from 'vue'\nimport App from './App.vue'\n// import CustomPlugin from '../../src/'\n\nconst app = createApp(App);\n// app.use(CustomPlugin);\napp.mount('#app')","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./QrDropzone.vue?vue&type=style&index=0&id=7726d082&scoped=true&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./QrDropzone.vue?vue&type=style&index=0&id=7726d082&scoped=true&lang=css\"","export { default } from \"-!../../example/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../example/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../example/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../example/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../example/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../example/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./QrStream.vue?vue&type=style&index=0&id=f73a6250&lang=css&scoped=true\"; export * from \"-!../../example/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../example/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../example/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../example/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../example/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../example/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./QrStream.vue?vue&type=style&index=0&id=f73a6250&lang=css&scoped=true\""],"sourceRoot":""}